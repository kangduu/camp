import{_ as d}from"./plugin-vue_export-helper-c27b6911.js";import{r as c,o as t,c as r,a as e,b as a,d as i,e as s}from"./app-b4cefb65.js";const h="/camps/assets/reset-more-question-acb91f5a.png",n={},l=s('<p>重置当前 HEAD 到指定的状态</p><h2 id="关于在windows系统的cmd命令行执行出现-more-的说明" tabindex="-1"><a class="header-anchor" href="#关于在windows系统的cmd命令行执行出现-more-的说明" aria-hidden="true">#</a> 关于在<code>Windows</code>系统的<code>cmd</code>命令行执行出现 <code>More?</code>的说明</h2><p>当我要<code>reset</code>当前<code>commit</code>的内容时，使用<code>windows</code>的<code>cmd</code>，然后输入 <code>git reset --soft HEAD^</code> 后就显示 <code>more?</code>，多按几次回车后<br> 出现了下图的情况。</p><figure><img src="'+h+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这是因为 <code>cmd</code> 控制台中换行符默认是 <code>^</code>，而不是 <code>\\</code>，所以它的 <code>more?</code> 的意思是问你下一行是否需要再输入，而 <code>^</code> 符号就被当做换行符而被 <code>git</code> 命令忽略掉了。</p><p>解决方法有如下几种</p><ul><li>加引号：<code>git reset --hard &quot;HEAD^&quot;</code></li><li>加一个<code>^</code>：<code>git reset --hard HEAD^^</code></li><li>换成<code>~</code>：<code>git reset--hard HEAD~</code> 或者 <code>git reset --hard HEAD~1</code>，后面的数字表示回退几次提交，默认是一次</li><li>当然还可以换成 <code>git bash</code>、<code>powershell</code> 等就不会出现这种问题了</li></ul><h2 id="git-reset-soft-head-和-git-reset-hard-head" tabindex="-1"><a class="header-anchor" href="#git-reset-soft-head-和-git-reset-hard-head" aria-hidden="true">#</a> <code>git reset --soft HEAD^</code> 和 <code>git reset --hard HEAD^</code></h2><p><code>git reset --soft HEAD^</code> 是撤销<code>commit</code>，但是 <code>add</code> 不会撤销</p><p><code>git reset --hard HEAD^</code> 直接撤销 <code>add</code> 了</p><p><strong>注意：</strong> <code>reset</code> 命令只能回滚最新的提交，无法满足保留最后一次提交只回滚之前的某次提交。</p><h3 id="命令解释" tabindex="-1"><a class="header-anchor" href="#命令解释" aria-hidden="true">#</a> 命令解释</h3><ul><li><p><code>HEAD^</code> 表示上一个版本，即上一次的 <code>commit</code>，几个<code>^</code>代表几次提交，如果回滚两次就是 <code>HEAD^^</code>。也可以写成 <code>HEAD~1</code>，如果进行两次的<code>commit</code>，想要都撤回，可以使用 <code>HEAD~2</code></p></li><li><p><code>--soft</code> 不删除工作空间的改动代码，撤销 commit，不撤销 add</p></li><li><p><code>--hard</code> 删除工作空间的代码，撤销 commit 且撤销 add</p></li></ul><h2 id="如果你已经-push-了想回退" tabindex="-1"><a class="header-anchor" href="#如果你已经-push-了想回退" aria-hidden="true">#</a> 如果你已经 push 了想回退</h2><ol><li>本地回退，回退到上一次提及： <code>git reset --hard HEAD^</code></li><li>远程回退，然后强制推送当前版本到远端：<code>git push origin HEAD</code></li></ol><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2>',16),p={href:"https://git-scm.com/docs/git-reset/zh_HANS-CN",target:"_blank",rel:"noopener noreferrer"};function m(g,f){const o=c("ExternalLinkIcon");return t(),r("div",null,[l,e("p",null,[e("a",p,[a("官方文档"),i(o)])])])}const E=d(n,[["render",m],["__file","reset.html.vue"]]);export{E as default};
